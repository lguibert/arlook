<div class="container">
    <div class="form-inline" >
        <form name="loginBilanForm" ng-if="!user_validated" ng-controller="UserController" class="col-xs-3 col-lg-3 col-md-3" ng-submit="login_bilan(credentials)" novalidate>
            <input style="display:none">
            <input type="password" style="display:none">
            <label for="password">Mot de passe:</label>
            <input id="password" type="password" ng-model="credentials.password" class="form-control" autocomplete="off"/>
            <button type="submit" class="btn btn-primary">Validation</button>
        </form>
    </div>
    <div class="col-xs-12 col-lg-12 col-md-12" ng-controller="BilanController" ng-if="user_validated">
        <h1>Bilan des ventes</h1>

        <div class="bilan_controls">
            <label for="perfect_date">Changer la date</label>
            <input name="perfect_date" id="perfect_date" type="date" ng-model="perfect_date">
            <div>Date active: <span>{{active_date | date:'dd/MM/yyyy'}}</span></div>
        </div>

        <div class="col-xs-12 col-lg-12 col-md-12" ng-if="bilans">
            <table id="table_bilans" class="table">
                <thead>
                <th>Utilisateur</th>
                <th>Jour</th>
                <th>Semaine</th>
                <th>Mois</th>
                <th>Tout</th>
                </thead>
                <tbody>
                <tr ng-repeat="bilan in bilans" on-finish-render="ngRepeatFinished">
                    <td>{{bilan[0]}}</td>
                    <td>{{bilan[1][0].day}}</td>
                    <td>{{bilan[1][0].week}}</td>
                    <td>{{bilan[1][0].month}}</td>
                    <td>{{bilan[1][0].all}}</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="col-xs-12 col-lg-12 col-md-12" ng-if="bilans_visit">
            <h1>Bilan des prestations</h1>
            <table id="table_visit_bilans" class="table">
                <thead>
                <th>Utilisateur</th>
                <th>Jour</th>
                <th>Semaine</th>
                <th>Mois</th>
                <th>Tout</th>
                </thead>
                <tbody>
                <tr ng-repeat="bilan in bilans_visit track by $index" on-finish-render2="ngRepeatFinished2">
                    <td>{{bilan[0]}}</td>
                    <td>{{bilan[2][0].day[0]}} (<span class="espece"
                                                      title="{{type_pay[bilan[1]].day.espece}} paiement(s) en espèce">{{type_pay[bilan[1]].day.espece}}</span>, <span
                            class="cheque" title="{{type_pay[bilan[1]].day.cheque}} paiement(s) en chèque">{{type_pay[bilan[1]].day.cheque}}</span>,
                        <span class="cb" title="{{type_pay[bilan[1]].day.cb}} paiement(s) en CB">{{type_pay[bilan[1]].day.cb}}</span>)
                    </td>
                    <td>{{bilan[2][0].week[0]}} (<span class="espece"
                                                       title="{{type_pay[bilan[1]].week.espece}} paiement(s) en espèce">{{type_pay[bilan[1]].week.espece}}</span>, <span
                            class="cheque" title="{{type_pay[bilan[1]].week.cheque}} paiement(s) en chèque">{{type_pay[bilan[1]].week.cheque}}</span>,
                        <span class="cb" title="{{type_pay[bilan[1]].week.cb}} paiement(s) en CB">{{type_pay[bilan[1]].week.cb}}</span>)
                    </td>
                    <td>{{bilan[2][0].month[0]}} (<span class="espece"
                                                        title="{{type_pay[bilan[1]].month.espece}} paiement(s) en espèce">{{type_pay[bilan[1]].month.espece}}</span>, <span
                            class="cheque" title="{{type_pay[bilan[1]].month.cheque}} paiement(s) en chèque">{{type_pay[bilan[1]].month.cheque}}</span>,
                        <span class="cb" title="{{type_pay[bilan[1]].month.cb}} paiement(s) en CB">{{type_pay[bilan[1]].month.cb}}</span>)
                    </td>
                    <td>{{bilan[2][0].all[0]}} (<span class="espece"
                                                      title="{{type_pay[bilan[1]].all.espece}} paiement(s) en espèce">{{type_pay[bilan[1]].all.espece}}</span>, <span
                            class="cheque" title="{{type_pay[bilan[1]].all.cheque}} paiement(s) en chèque">{{type_pay[bilan[1]].all.cheque}}</span>,
                        <span class="cb" title="{{type_pay[bilan[1]].all.cb}} paiement(s) en CB">{{type_pay[bilan[1]].all.cb}}</span>)
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>